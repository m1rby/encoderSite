<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Файл Шифрования</title>
    <link rel="stylesheet" href="main.css">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Rubik+Glitch&display=swap" rel="stylesheet">
</head>
<body>
    <h1>Выберите метод шифрования и загрузите файл</h1>
    <form id="encryptionForm" enctype="multipart/form-data" method="post">
        <label for="method">Метод шифрования:</label>
        <select id="method" name="method">
            <option value="Ш4.1.2">Ш4.1.2</option>
            <option value="Ш4.2.4">Ш4.2.4</option>
            <option value="Ш4.3.2">Ш4.3.2</option>
            <option value="Ш4.4.2">Ш4.4.2</option>
        </select>
        <label for="file">Загрузить файл:</label>
        <input type="file" id="file" name="file" required>
        <button type="submit">Зашифровать файл</button>
    </form>

    <script>
        document.getElementById("encryptionForm").onsubmit = async (e) => {
            e.preventDefault();
            const formData = new FormData(document.getElementById("encryptionForm"));
            const response = await fetch("/encrypt", {
                method: "POST",
                body: formData,
            });
            const blob = await response.blob();
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement("a");
            a.href = url;
            a.download = "encrypted_file";
            a.click();
            window.URL.revokeObjectURL(url);
        };
    </script>
</body>
</html>
